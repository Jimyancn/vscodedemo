/*
{
    "version": "2.0.0",
    "tasks": [
        {
            "type": "cppbuild",
            "label": "C/C++: g++.exe 生成活动文件",
            "command": "C:\\Program Files\\mingw64\\bin\\g++.exe",
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                "${file}","prime.cpp",
                "-o",
                "${fileDirname}\\${fileBasenameNoExtension}.exe"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "编译器: C:\\Program Files\\mingw64\\bin\\g++.exe"
        }
    ]
}
*/

/*
{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "CMake: Configure (MinGW Makefiles)",
			"type": "shell",
			"command": "cmake",
			"args": [
				"-G", "MinGW Makefiles",
				"-S", "${workspaceFolder}",
				"-B", "${workspaceFolder}/build",
				"-DCMAKE_BUILD_TYPE=Debug"
			],
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"problemMatcher": []
		},
		{
			"label": "CMake: Build",
			"type": "shell",
			"command": "cmake",
			"args": [
				"--build", "${workspaceFolder}/build",
				"--config", "Debug"
			],
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"problemMatcher": [],
            "detail": "使用 CMake 构建项目"
		},
		{
			"label": "CMake: Clean",
			"type": "shell",
			"command": "cmake",
			"args": [
				"--build", "${workspaceFolder}/build",
				"--target", "clean"
			],
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"problemMatcher": []
		}
	]
}
*/
//定义了三个任务：配置 CMake 构建系统、构建项目和清理构建文件。
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "CMake: Configure",
            "type": "shell",
            "command": "cmake",
            "args": [
                "-G",
                "MinGW Makefiles",
                "-B",
                "${workspaceFolder}/build",
                "-S",
                "${workspaceFolder}"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "group": "build",
            "detail": "生成 CMake 构建系统"
        },
        {
            "label": "CMake: Build (Debug)",
            "type": "shell",
            "command": "cmake",
            "args": [
                "--build",
                "${workspaceFolder}/build",
                "--config",
                "Debug",
                "--parallel"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "group": "build",
            "dependsOn": "CMake: Configure",
            "detail": "使用 Debug 配置构建项目"
        },
        {
            "label": "CMake: Build (Release)",
            "type": "shell",
            "command": "cmake",
            "args": [
                "--build",
                "${workspaceFolder}/build",
                "--config",
                "Release",
                "--parallel"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "group": "build",
            "dependsOn": "CMake: Configure",
            "detail": "使用 Release 配置构建项目"
        },
        {
            "label": "CMake: Clean",
            "type": "shell",
            "command": "cmake",
            "args": [
                "--build",
                "${workspaceFolder}/build",
                "--target",
                "clean"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": []
        },
        {
            "type": "cmake",
            "label": "CMake: 包",
            "command": "package",
            "problemMatcher": [],
            "detail": "CMake 模板 包 任务"
        },
        {
            "type": "cmake",
            "label": "CMake: 测试",
            "command": "test",
            "problemMatcher": [],
            "detail": "CMake 模板 测试 任务"
        },
        {
            "type": "cmake",
            "label": "CMake: 清理重新生成",
            "command": "cleanRebuild",
            "targets": [
                "all"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": [],
            "detail": "CMake 模板 清理重新生成 任务"
        }
    ]
}